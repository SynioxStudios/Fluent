local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

local Fluent = {}

function Fluent:CreateWindow(Config)
    local SynioxGui = Instance.new("ScreenGui")
    SynioxGui.Name = "SynioxHub"
    SynioxGui.Parent = CoreGui
    SynioxGui.ResetOnSpawn = false

    local Launcher = Instance.new("ImageButton")
    Launcher.Name = "Launcher"
    Launcher.Parent = SynioxGui
    Launcher.Size = UDim2.new(0, 60, 0, 60)
    Launcher.Position = UDim2.new(0.02, 0, 0.45, 0)
    Launcher.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Launcher.BackgroundTransparency = 0.3
    Launcher.Image = "https://www.roblox.com/Thumbs/Asset.ashx?width=420&height=420&assetId=129903125132641"
    
    local LauncherCorner = Instance.new("UICorner")
    LauncherCorner.CornerRadius = UDim.new(0, 30)
    LauncherCorner.Parent = Launcher

    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = SynioxGui
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    MainFrame.Size = UDim2.new(0, 550, 0, 380)
    MainFrame.Position = UDim2.new(0.5, -275, 0.5, -190)
    MainFrame.Visible = false
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 10)
    MainCorner.Parent = MainFrame

    local LeftPanel = Instance.new("Frame")
    LeftPanel.Name = "LeftPanel"
    LeftPanel.Parent = MainFrame
    LeftPanel.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
    LeftPanel.Size = UDim2.new(0, 140, 1, 0)
    
    local LeftCorner = Instance.new("UICorner")
    LeftCorner.CornerRadius = UDim.new(0, 10)
    LeftCorner.Parent = LeftPanel

    local TabHolder = Instance.new("ScrollingFrame")
    TabHolder.Name = "TabHolder"
    TabHolder.Parent = LeftPanel
    TabHolder.Size = UDim2.new(1, 0, 1, -20)
    TabHolder.Position = UDim2.new(0, 0, 0, 10)
    TabHolder.BackgroundTransparency = 1
    TabHolder.ScrollBarThickness = 0

    local TabList = Instance.new("UIListLayout")
    TabList.Parent = TabHolder
    TabList.HorizontalAlignment = Enum.HorizontalAlignment.Center
    TabList.Padding = UDim.new(0, 8)

    local ContentHolder = Instance.new("Frame")
    ContentHolder.Name = "ContentHolder"
    ContentHolder.Parent = MainFrame
    ContentHolder.Position = UDim2.new(0, 150, 0, 10)
    ContentHolder.Size = UDim2.new(1, -160, 1, -20)
    ContentHolder.BackgroundTransparency = 1

    Launcher.MouseButton1Click:Connect(function()
        MainFrame.Visible = not MainFrame.Visible
    end)

    local Window = { Tabs = {} }
    function Window:AddTab(tConfig)
        local TabPage = Instance.new("ScrollingFrame")
        TabPage.Name = tConfig.Title
        TabPage.Parent = ContentHolder
        TabPage.Size = UDim2.new(1, 0, 1, 0)
        TabPage.BackgroundTransparency = 1
        TabPage.Visible = #Window.Tabs == 0
        TabPage.ScrollBarThickness = 2

        local TabBtn = Instance.new("TextButton")
        TabBtn.Parent = TabHolder
        TabBtn.Size = UDim2.new(0, 120, 0, 35)
        TabBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        TabBtn.Text = tConfig.Title
        TabBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        TabBtn.Font = Enum.Font.GothamSemibold
        TabBtn.TextSize = 13
        
        local BtnCorner = Instance.new("UICorner")
        BtnCorner.CornerRadius = UDim.new(0, 6)
        BtnCorner.Parent = TabBtn

        TabBtn.MouseButton1Click:Connect(function()
            for _, v in pairs(ContentHolder:GetChildren()) do v.Visible = false end
            TabPage.Visible = true
        end)

        local Tab = {}
        function Tab:AddToggle(Name, Callback)
            local Tgl = Instance.new("TextButton")
            Tgl.Parent = TabPage
            Tgl.Size = UDim2.new(1, -10, 0, 38)
            Tgl.Text = "  " .. Name
            Tgl.TextXAlignment = Enum.TextXAlignment.Left
            Tgl.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
            Tgl.TextColor3 = Color3.fromRGB(200, 200, 200)
            Tgl.Font = Enum.Font.Gotham
            
            local TglCorner = Instance.new("UICorner")
            TglCorner.CornerRadius = UDim.new(0, 6)
            TglCorner.Parent = Tgl

            local s = false
            Tgl.MouseButton1Click:Connect(function()
                s = not s
                Tgl.BackgroundColor3 = s and Color3.fromRGB(41, 74, 122) or Color3.fromRGB(28, 28, 28)
                Tgl.TextColor3 = s and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(200, 200, 200)
                Callback(s)
            end)
            local L = Instance.new("UIListLayout")
            L.Parent = TabPage
            L.Padding = UDim.new(0, 5)
        end
        table.insert(Window.Tabs, Tab)
        return Tab
    end
    return Window
end

return Fluent
